<div id="page-content" class="login-page">
  <!-- Page Title -->
  <div class="page text-center">
    <div class="page-title">
      <div class="wrapper">
        <h1 class="page-width">Login</h1>
      </div>
    </div>
  </div>
  <!-- End Page Title -->

  <div class="container mb-5 mt-0">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="login-box">
          <div class="form-group">
            <label for="Mobile_No" class="login_label">Mobile No</label>
            <input type="text" [(ngModel)]="Mobile_No" name="Mobile_No" #Mobile_NoInput="ngModel"
              class="form-control" required>
            <div *ngIf="Mobile_NoInput.invalid && (Mobile_NoInput.dirty || Mobile_NoInput.touched)"
              class="text-danger login_msg">
              <div *ngIf="Mobile_NoInput.errors?.['required']">Mobile number is required.</div>
            </div>
          </div>

          <div class="form-group">
            <label for="CustomerPassword" class="login_label">Password</label>
            <div class="password-wrapper">
              <input type="{{ showPassword ? 'text' : 'password' }}" [(ngModel)]="password" name="password"
                class="form-control" #passwordInput="ngModel" required minlength="6">
              <i class="bi bi-eye" (click)="togglePasswordVisibility()"></i>
            </div>
            <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)"
              class="text-danger login_msg">
              <div *ngIf="passwordInput.errors?.['required']">Password is required.</div>
              <div *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters long.</div>
            </div>
          </div>

          <div class="text-center">
            <button *ngIf="!isLoggedIn()" type="button" class="btn btn-dark login-btn"
              (click)="login()" [disabled]="!Mobile_No || !password">Log In</button>
            <button *ngIf="isLoggedIn()" type="button" class="btn btn-dark login-btn"
              (click)="logout()">Welcome, {{ getMobile_No() }}</button>
            <a *ngIf="isLoggedIn()" (click)="logout()" class="logout-link" style="cursor: pointer; color: blue;">Logout</a>
            <p class="mt-3">
              <a routerLink="/forgot" class="Create_Forgot">Forgot your password?</a> &nbsp; | &nbsp;
              <a *ngIf="!isLoggedIn()" routerLink="/signup" class="Create_Forgot">Create account</a>
            </p>
            <p class="text-danger">{{ errorMessage }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
